For researchers
===========================================

Этот раздел предназначен для исследователей, которые будут разворачивать ARTM Online локально на свойм компьтере.

.. rubric:: Разворачивание ARTM Online

1. Установите python 3 (рекомендуется anaconda).

2. Установите django

.. code-block:: bash 

   pip install django 

   
3. Установите систему управления базами данных. Рекомендуеся PostgreSQL.

4. Создайте базу данных artmonlinedb. Запомните имя пользователя и пароль для доступа к этой базе данных. Имя пользователя по умолчанию в PostgreSQL - postgres.

5. Установите git

6. Склонируйте проект ARTM Online на свой компьютер. Для этого создайте где-нибудь папку artmonline, перейдите в неё и выполните

.. code-block:: bash 

   git clone https://github.com/fedimser/artmonline.git
   
7. Теперь нужно связать проект c базой данных. Сначала откройте файл artmonline/settings.py и найдите там такие строчки

.. code-block:: python 

   DATABASES = {
		'default': {
			'ENGINE': 'django.db.backends.postgresql_psycopg2',
			'NAME': 'artmonlinedb',
			'USER': 'postgres',
			'PASSWORD': '******',
			'HOST': '127.0.0.1',
			'PORT': '5432', 
		}
	}

Внесите изменения, соответствующие вашей СУБД. Если вы используете PostgreSQL с настройками по умолчанию, понадобится изменить только пароль.

8. Теперь нужно, чтобы django создал нужные ему таблицы. Для этого выполните

.. code-block:: bash 

   python manage.py makemigrations
   python manage.py migrate
   
9. Создайте суперпользователя (эти логин и пароль потом нужно будет ввести, когда сервис попросит вас залогиниться)

.. code-block:: bash 

   python manage.py createsuperuser
   
   
10. Запустите сервер

.. code-block:: bash 

   python manage.py runserver
   
11. Зайдите в браузере по адресу http://127.0.0.1:8000

.. rubric:: Начало работы с ARTM Online

Для начала разберёмся с объктной моделью. 

Dataset - это набор документов. Он обязательно содержит словарь (список терминов) и "мешки слов". Опциаонально он может содержать текст документов,
вхождения терминов в этот текст (это будем называть word_index), дополнительную информацию о документах (дата, время, название, 
краткое описание (snippet), ссылку на оригинал в документе).

Термины принадлежат модальностям. Если модальностей нет, считается, что все термины принадлежат модальности @default_class.

Модель (ArtmModel) содержит всю информацию некоторой тематической модели о dataset'е (а именно, матрицы Θ, Φ, Ψ) и производную информацию. 

.. rubric:: Загрузка dataset'а

Итак, для начала работы нужно загрузить dataset. Создайте в папке проекта папку data, в ней папку datasets, в ней папку для каждого dataset'а.
В папке dataset'a создайте папку UCI, в которой нужно будет поместить два файла с описанием словаря и мешков слов. Этого достаточно для того, чтобы
можно было строить модели, но вы не сможете посмотреть текст. Поэтому, ессли у вас есть все документы в текстовом виде, загрузите их в папку
documents, именуя номерами с единицы с расширением .txt. Загрузите "файлы индексов" в папку "word_index". Наконец, создайте файл documents.json 
с мета-данными всех документов. В итоге должна получиться такая файловая структура:
   


